<div *ngIf="userService.getIsUserLoggedIn()">

  <div *ngIf="!isBuildCreated">
    <form [formGroup]="priceForm" (ngSubmit)="submitPrice()">
      <label for="priceInput">Enter Price:</label>
      <input type="number" id="priceInput" formControlName="price" />

      <span *ngIf="isIncomplete()">Please enter a valid price</span>
      <button *ngIf="!isIncomplete()" type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>

  <div *ngIf="isBuildCreated && buildInfo" class="bg-gray-100 p-6 rounded-lg grid grid-cols-2 gap-6">
    <h2 class="text-2xl font-bold col-span-2 mb-4">Build Information</h2>
    <div>
      <h3 class="text-lg font-bold">CPU</h3>
      <p>{{ buildInfo.CPU.value }}</p>
      <p>{{ buildInfo.CPU.price }}</p>
    </div>
    <div>
      <h3 class="text-lg font-bold">Case</h3>
      <p>{{ buildInfo.Case.value }}</p>
      <p>{{ buildInfo.Case.price }}</p>
    </div>
    <div>
      <h3 class="text-lg font-bold">GPU</h3>
      <p>{{ buildInfo.GPU.value }}</p>
      <p>{{ buildInfo.GPU.price }}</p>
    </div>
    <div>
      <h3 class="text-lg font-bold">Motherboard</h3>
      <p>{{ buildInfo.Motherboard.value }}</p>
      <p>{{ buildInfo.Motherboard.price }}</p>
    </div>
    <div>
      <h3 class="text-lg font-bold">Power Supply</h3>
      <p>{{ buildInfo.PowerSupply.value }}</p>
      <p>{{ buildInfo.PowerSupply.price }}</p>
    </div>
    <div>
      <h3 class="text-lg font-bold">RAM</h3>
      <p>{{ buildInfo.RAM.value }}</p>
      <p>{{ buildInfo.RAM.price }}</p>
    </div>
    <div>
      <h3 class="text-lg font-bold">Storage</h3>
      <p>{{ buildInfo.Storage.value }}</p>
      <p>{{ buildInfo.Storage.price }}</p>
    </div>

    <div>
      <h3 class="text-lg font-bold">Overall Price</h3>
      <!-- The number pipe trims to two decimal places -->
      <p>Â£{{ buildInfo.OverallPrice | number: '1.2-2' }}</p>
    </div>

    <div class="col-span-2">
      <h3 class="text-lg font-bold">Created On</h3>
      <p>{{ buildInfo.created_at }}</p>
    </div>
  </div>


  <app-footer></app-footer>

</div>

<div *ngIf="!userService.getIsUserLoggedIn()">

  <h1>Same but not logged in</h1>

</div>
